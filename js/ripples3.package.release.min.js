/**
 * Nico Pr â€” https://nicopr.fr
 * RIPPLES3 PACKAGE RELEASE v0.0.1
 * 11/01/2025 13:55:36
 */
(function(){
var f=this||self;function k(a){a=a.split(".");var b=f;a[0]in b||"undefined"==typeof b.execScript||b.execScript("var "+a[0]);for(var c;a.length&&(c=a.shift());)a.length?b[c]&&b[c]!==Object.prototype[c]?b=b[c]:b=b[c]={}:b[c]=!1};k("DEBUG");k("STAND");window.addEventListener("load",()=>{try{const a=new p;q(a).then(()=>setTimeout(()=>{for(let b=0;3>b;b++)r(a,a.w/2,a.j/2,.3*Math.min(a.w,a.j),{$:.015,V:.15,ca:.22,ba:2/3*b+4,aa:2E-4,speed:2.2},2*Math.PI/3*b,a.na)},1111))}catch(a){console.error("screen liquify fail",a);const b=document.createElement("div");b.classList.add("err");b.innerHTML="liquify fail<br>"+a;document.body.appendChild(b)}});
async function q(a){console.log("flow");return t(a).then(async()=>{a.h=document.createElement("canvas");document.body.appendChild(a.h);a.g=a.h.getContext("webgl2",{alpha:!1,antialias:!1,depth:!1,stencil:!1,powerPreference:"high-performance",preserveDrawingBuffer:!1});if(!a.g)throw Error("WebGL2 not supported");a.g.getExtension("EXT_color_buffer_float");a.g.getExtension("OES_texture_float_linear");a.ga=new ResizeObserver(a.ja.bind(a));a.ga.observe(document.body);await u(a);a.O=a.g.createBuffer();a.g.bindBuffer(a.g.ARRAY_BUFFER,
a.O);a.g.bufferData(a.g.ARRAY_BUFFER,a.oa,a.g.STATIC_DRAW);A(a);const b={passive:!1};a.h.addEventListener("touchstart",a.ma.bind(a),b);a.h.addEventListener("pointerdown",a.la.bind(a),b);a.h.addEventListener("pointermove",a.ka.bind(a),b);a.h.addEventListener("pointerup",a.S.bind(a));a.h.addEventListener("pointerout",a.S.bind(a));a.h.addEventListener("pointercancel",a.S.bind(a));B(a)})}
async function t(a){a.image=new Image;return new Promise((b,c)=>{a.image.crossOrigin="Anonymous";a.image.onload=b;a.image.onerror=c;a.image.src="assets/img.webp"})}
async function u(a){const b=await C("H4sIAAAAAAAAClMuSy0qzszPUzA2MFBILebKzFMoS002UijIL84syczPs84vLYGIlKRWOOfnF6VYl+VnpijkJmbmaWhWwwRtYeq19Ey19Uyt03PiA6AitmWpySYaMHkdAx1DTetaAIBqaOZ3AAAA"),c=await C("H4sIAAAAAAAACnVVzW7jOAy+71MYWGBgOQprZ8aYBqp6aR+g2BaYw6IHra3EBGzLq5/AwUzffSHJTu1k52JQpEh+/ETSf56kNqj65GueJ9L8MWhZYVA0eGyG5NAqYdm11ohuaKXePd9YsLfM9XhQuktOstol7i9pVOssqv5iCEET9yxbK96wk9R9fl8r0UrqfoiTfB2krKl7Ft2A/ZG6F60GcRQ+VDAxY7WrbPKmXNX8DNkGZTCkiim0qNGZ6WCslv3RNtPRaoHtbBq0FPV0OGj5r5N9dWYfF8SXghP3ouUJlTOvVlh5VWtA8neRv1/02NtJ/aTcgpugmiwvQovOBDfsYyQrxyeldM2Us17zLTlocXxSrdLspLBOOoF9SqaicZQt92JakLsl4cHTeKDcytE6LdM1fjonIlPxjcRjY3nwgZEa1/Ec6Em0WL8GDgzPgR2UTn1lyHOGD8WO4WZDfsYIoj+2kgc5RZJBufta7u+/fy9ZAFujjlArZdJwl1CD/SQSGpkOmPgMblOjzkKV2W0TxHwFMDykC2cYH3L49WuleSyuNOebO+fHAsgSQ9WKblgGpgE95HlBJnG/3xNCIw64L1dMRtJ+x/4iLIGRGddt+NIvC0HZkv4NjzrP4//wk94QlEFJPDc1ahgfeQ5fvgTxgReTeP7Unr2WBBy/gVyjJjBmUNI1KijZh3HdHe/EmC5NtACyqoB3OKaxSt9f2Q62sd3Oi7EnLLbeVastRyn0XJyWMEXK8GkA8X01BfE9ajSWt2EDpOnM3HZ2JdnCYzVEcKZxjbw1WppGtTVfjS2+Q7RnBdxHoo19uHKZhwO7QVSWm04p2xgrh/TqIs2B+gAku04yry+fhg6NMJL7i7f3wi7bhmV6Y/zcbTFC6kcviCSD/eZyygooSQbFLYy4NkOHxGKytIBNDME+fAtkvICt+MdMb+zD7K5a2LgubgNZH+Wzf5gO+8uj0AK2n3tp6Znx+W+Q+SaCfUkLoAs2c6AlUB9sjgwjvYhnchemBEZC2GWh+nX0bd2yU3fmtCDs4z+qVpK6IwcAAA=="),d=
await C("H4sIAAAAAAAACp1WS2/jNhC+91cI6IWkaK7kJO0GrA5NvNsW6AKLOGjPXJm2iZVIlQ/H3sD/vSCpd7xp0JM4o5lvHvw45I8Hro1QMrnKsoSbHxrNSxEUe7HbN8m2UszSudawuqm4Xq6ok2KrdJ0ceLlM3AM3qnJWKNn/CACJexQ173W9e+L+Zpbr37nY7S12d6z8utPKyc0jP1qn+Rj+KnFrJ1dC89IHwG7NSyU3TJ/G6nnctZN/SMulEfY0chnpHvhWs6lvjBZSexTSvqxF2rXVXO7sHrt1w0tXMT1oHpTb7SU3BruPmhvJqw/bLS9tL35WT1wPnkGcl/r1dK8qpeexV7yx+4+stEpj96utlWn2XItyXTJrPegHefjEmml9VexNG32suqucHssrYazSsb/3zBkryqGuTlGyig9Sw/mml+6038lYe6tacctERYWMHLH8eK+U3lDlrNdcJ1vNdrFWY7UrbbJ2estKvmKWPcey94EgNAqN5ofIGBp6JZWuWUXHlr9pthFcWnqmI7Bkx+1IBJGzB/gcFo048qrIybsxi8feJq5psN61EQovARvpCiZ0LitWN8Ad0mAS4MkRLQnOIA4SzskiLCAkx8WrGIs3YeA35JFFP3JCS/J/8/gvDIjIDW3bReKOFK/CXsDo/YftvozhDpCcZtG6/S+qQF3Q7Rbs7SJpivgR37gnwxVYdIa+xTmEVHPrtOy3/hxJFngkKx8JjCiIwzqoV0JH6SD4kxcusRM+t/CNegI1O4KNsqCFGhLr8NIWCkKcETibHhC9mEPI1ErZvbG8ARnBJFviWfixBcluMFne4FkaXfAQE3b1l/Fkx6kWj1GjTFujFTWHz40yqJhMDOp/jHR+brSHVipheJERzOqmyAneav5PkRO6VRpEC1FkhIpf5jMlTWE7IZjcVbwIIQC5ST0CIjmkATotjJChLJ+W/4cDj0tlQHCE2BvEJYQQsbqhrG5QQX6iAapYEnqOuwUi5DQV+A4sCZrp6PmgxCapmZAgDJmeDkVgW4YznMNLM6aYTapuaMKuYStl/yq6vZpyGnc88VsWh9WXXfAu4nHrwNKpHzme0OgyRCAnKftiwPRkQRhbl7Vff0haeHIqcrLohTicdQQM872oxbEblX+qDXh53+PWe35FIXAhk/TymffD4/QND9c3nlzY362r662JN2kBcrIIfYZotLxw58ZCW7eh0HHluL/PcWuHyA2kXajpeep74N9MEM3vYQRmB3vp52YLNZgPN7GfYkMqaeReZ09fz3v8F/sx1XVi+paBaPrSgel4RM74OYy2yYMOdsTF39lXNHnMoVBGjsntz5jcLiF6T6YGb03h0ivyLbm8eErGjMjte0xub3EO0TW5ZEb7947fiWswaXEO6flfWh3kF5MLAAA=");
a.F=a.createProgram(b,c);a.M=a.createProgram(b,d);D(a)}
function A(a){const b=a.g;a.m=a.createTexture(!1);a.v=a.createTexture(!1);const c=new Float32Array(a.w*a.j*4);for(let d=3;d<c.length;d+=4)c[d]=1;[a.m,a.v].forEach(d=>{b.bindTexture(b.TEXTURE_2D,d);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA32F,a.w,a.j,0,b.RGBA,b.FLOAT,
c)});a.A=b.createFramebuffer();a.K=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,a.A);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,a.m,0);b.bindFramebuffer(b.FRAMEBUFFER,a.K);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,a.v,0);a.o=a.createTexture(!0);E(a);a.J=a.A;a.C=a.m;a.L=a.v;b.bindFramebuffer(b.FRAMEBUFFER,null);b.bindTexture(b.TEXTURE_2D,null)}
function B(a){F(a);document.addEventListener("visibilitychange",()=>{a.isVisible="visible"===document.visibilityState;a.isVisible?(a.D=performance.now(),F(a)):cancelAnimationFrame(a.R)})}function G(a){const b=window.innerWidth,c=window.innerHeight;a.h.width=b*a.s;a.h.height=c*a.s;a.h.style.width=b+"px";a.h.style.height=c+"px";H(a);a.g&&(a.g.viewport(0,0,a.h.width,a.h.height),a.o&&(I(a),requestAnimationFrame(()=>E(a))))}async function H(a){a.u=null;await J(a)}
function I(a){const b=a.g;[a.m,a.v].forEach(c=>{b.bindTexture(b.TEXTURE_2D,c);b.texImage2D(b.TEXTURE_2D,0,b.RGBA32F,a.w,a.j,0,b.RGBA,b.FLOAT,null)});[a.A,a.K].forEach(c=>{b.bindFramebuffer(b.FRAMEBUFFER,c)});b.bindFramebuffer(b.FRAMEBUFFER,null)}
function E(a){if(a.image?.complete){var b=document.createElement("canvas"),c=b.getContext("2d",{alpha:!1});b.width=a.w;b.height=a.j;var d=a.image.naturalWidth/a.image.naturalHeight,g=b.width/b.height,e=d>g?b.height*d:b.width;d=d>g?b.height:b.width/d;c.fillStyle="#000";c.fillRect(0,0,b.width,b.height);c.drawImage(a.image,(b.width-e)/2,(b.height-d)/2,e,d);a.u&&c.drawImage(a.u.image,a.u.x*a.s,a.u.y*a.s,a.u.width*a.s,a.u.height*a.s);c=a.g;c.bindTexture(c.TEXTURE_2D,a.o);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,
c.RGBA,c.UNSIGNED_BYTE,b);c.generateMipmap(c.TEXTURE_2D);b.width=b.height=0}}async function J(a){var b=window.innerWidth-32-5,c=window.innerHeight-32-5;const d=new Image;await new Promise((g,e)=>{d.onload=g;d.onerror=e;d.crossOrigin="Anonymous";d.src="assets/github-mark-white.png"});a.u={image:d,x:b,y:c,width:32,height:32};E(a)}async function C(a){return await (new Response((new Response(Uint8Array.from(atob(a),b=>b.charCodeAt(0)))).body.pipeThrough(new DecompressionStream("gzip")))).text()}
function D(a){const b=a.F;a.G={Z:K(a,"Resolution"),H:K(a,"DeltaTime"),time:K(a,"Time"),P:K(a,"TimeScale"),da:K(a,"WaveSpeed"),U:K(a,"Damping"),Y:K(a,"PropagationSpeed"),za:K(a,"PreviousState"),i:K(a,"Touch"),ha:K(a,"TouchCount"),touches:Array(10).fill({}).map((c,d)=>({position:a.g.getUniformLocation(b,`uTouchParams[${d}].position`),Aa:a.g.getUniformLocation(b,`uTouchParams[${d}].radius`),Ma:a.g.getUniformLocation(b,`uTouchParams[${d}].strength`),Qa:a.g.getUniformLocation(b,`uTouchParams[${d}].trail`),
La:a.g.getUniformLocation(b,`uTouchParams[${d}].spread`),frequency:a.g.getUniformLocation(b,`uTouchParams[${d}].frequency`)}))};a.N={Z:L(a,"Resolution"),time:L(a,"Time"),ia:L(a,"WaterHeight"),o:L(a,"BackgroundTexture"),Na:L(a,"SunDirection"),Ha:L(a,"SecondarySunDirection"),Oa:L(a,"SunIntensity"),Ga:L(a,"SecondaryIntensity"),Ea:L(a,"Refraction"),Ra:L(a,"WaterTint"),Pa:L(a,"TintStrength"),Ka:L(a,"SpecularStrength"),Fa:L(a,"Roughness"),xa:L(a,"FresnelEffect"),ya:L(a,"FresnelPower"),Ja:L(a,"SpecularPower"),
Ia:L(a,"SkyColor"),va:L(a,"DepthFactor"),pa:L(a,"AtmosphericScatter"),wa:L(a,"EnvMapIntensity"),Da:L(a,"ReflectionFresnel"),Ba:L(a,"ReflectionBlur"),Ca:L(a,"ReflectionDistortion"),ua:L(a,"CausticStrength"),sa:L(a,"CausticScale"),ta:L(a,"CausticSpeed"),qa:L(a,"CausticBrightness"),ra:L(a,"CausticDetail")}}function K(a,b){return a.g.getUniformLocation(a.F,`u${b}`)}function L(a,b){return a.g.getUniformLocation(a.M,`u${b}`)}
function M(a){const b=a.g,c=a.N,d=a.B;b.uniform2f(c.Z,a.w,a.j);b.uniform1f(c.time,a.I);Object.keys(d).filter(g=>c[g]&&d[g]instanceof Float32Array).forEach(g=>b.uniform3fv(c[g],d[g]));Object.keys(d).filter(g=>c[g]&&"number"===typeof d[g]).forEach(g=>b.uniform1f(c[g],d[g]));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,a.C);b.uniform1i(c.ia,0);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,a.o);b.uniform1i(c.o,1)}function F(a){a.R=requestAnimationFrame(b=>a.fa(b))}
function N(a,b){const c=a.h.getBoundingClientRect();return{x:(b.clientX-c.left)*a.s,y:(c.bottom-b.clientY-c.top)*a.s}}
function r(a,b,c,d,g,e,h){const l=Math.random().toString(36).slice(-6),O=performance.now(),v=b+Math.cos(e)*d,w=c+Math.sin(e)*d,x={x:v,y:w,W:v,X:w,...a.ea,...g};a.l.set(l,x);const z=()=>{var m=performance.now()-O;if(1>m/3333){const y=e+.001*m*x.speed;m=h(m,0,1,3333);m=d*(1-m);const n=a.l.get(l);n.W=n.x;n.X=n.y;n.x=b+Math.cos(y)*m;n.y=c+Math.sin(y)*m;requestAnimationFrame(z)}else a.l.delete(l)};requestAnimationFrame(z)}
class p{constructor(){this.B={P:1,da:.995,U:.998,Y:8,Ea:.18,Ra:new Float32Array([.04,.06,.11]),Pa:.022,Ka:.72,Fa:.28,xa:.8,ya:2.6,Ja:38,Da:1,Ba:.1,Ca:.3,Ia:new Float32Array([.78,.89,1]),va:1.65,pa:.72,wa:.5,$:.012,V:.42,ca:.92,ba:6,aa:3E-4,ua:.15,sa:.8,ta:.3,qa:1.2,ra:3,Na:new Float32Array([.35,.65,.45]),Ha:new Float32Array([-.45,.55,.45]),Oa:.57,Ga:.17};this.ea={$:.012,V:.42,ca:.62,ba:.05,aa:.003};this.ga=this.T=this.image=this.h=this.g=this.O=this.F=this.G=this.M=this.N=this.C=this.L=this.o=this.m=
this.v=this.J=this.A=this.K=null;this.R=-1;this.oa=new Float32Array([-1,-1,1,-1,-1,1,1,1]);this.i=new Float32Array(20);this.s=Math.min(window.devicePixelRatio||1,2);this.l=new Map;this.I=this.H=this.D=0;this.isVisible=!0;this.u=null}ja(){this.T&&cancelAnimationFrame(this.T);this.T=requestAnimationFrame(()=>G(this))}createProgram(a,b){const c=this.g,d=c.createProgram(),g=(e,h)=>{e=c.createShader(e);c.shaderSource(e,h);c.compileShader(e);if(!c.getShaderParameter(e,c.COMPILE_STATUS))throw h=c.getShaderInfoLog(e),
c.deleteShader(e),Error(`Shader compilation error: ${h}`);return e};a=g(c.VERTEX_SHADER,a);b=g(c.FRAGMENT_SHADER,b);c.attachShader(d,a);c.attachShader(d,b);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))throw b=c.getProgramInfoLog(d),c.deleteProgram(d),Error(`Program linking error: ${b}`);c.deleteShader(a);c.deleteShader(b);return d}createTexture(a=!0){const b=this.g,c=b.createTexture();b.bindTexture(b.TEXTURE_2D,c);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR:b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a?b.LINEAR:b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,b.RGBA32F,1,1,0,b.RGBA,b.FLOAT,new Float32Array([0,0,0,1]));return c}fa(a){if(this.isVisible)if(this.R=requestAnimationFrame(this.fa.bind(this)),this.D){this.H=Math.min(.001*(a-this.D),.016)*this.B.P;this.D=a;this.I+=this.H;a=this.g;a.disable(a.DEPTH_TEST);a.disable(a.BLEND);a=this.g;a.useProgram(this.F);
a.bindFramebuffer(a.FRAMEBUFFER,this.J);a.bindBuffer(a.ARRAY_BUFFER,this.O);var b=a.getAttribLocation(this.F,"position");a.enableVertexAttribArray(b);a.vertexAttribPointer(b,2,a.FLOAT,!1,0,0);b=this.g;var c=this.G;b.uniform2f(c.Z,this.w,this.j);b.uniform1f(c.H,this.H);b.uniform1f(c.time,this.I);b.uniform1f(c.P,this.B.P);b.uniform1f(c.da,this.B.da);b.uniform1f(c.U,this.B.U);b.uniform1f(c.Y,this.B.Y);var d=Array.from(this.l.values()),g=Math.min(d.length,10);this.i.fill(0);for(let e=0;e<g;e++){const h=
d[e],l=[h.x/this.w,h.y/this.j];this.i[2*e]=l[0];this.i[2*e+1]=l[1];b.uniform2f(c.touches[e].position,l[0],l[1]);b.uniform1f(c.touches[e].Aa,h.$);b.uniform1f(c.touches[e].Ma,h.V);b.uniform1f(c.touches[e].Qa,h.ca);b.uniform1f(c.touches[e].La,h.ba);b.uniform1f(c.touches[e].frequency,h.aa)}b.uniform2fv(c.i,this.i);b.uniform1i(c.ha,g);c=Array.from(this.l.values());b=Math.min(c.length,10);this.i.fill(0);for(d=0;d<b;d++)g=c[d],this.i[2*d]=g.x,this.i[2*d+1]=g.y;c=this.g;c.uniform2fv(this.G.i,this.i);c.uniform1i(this.G.ha,
b);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,this.L);a.uniform1i(this.G.za,0);a.drawArrays(a.TRIANGLE_STRIP,0,4);a=this.g;a.useProgram(this.M);a.bindFramebuffer(a.FRAMEBUFFER,null);a.bindBuffer(a.ARRAY_BUFFER,this.O);b=a.getAttribLocation(this.M,"position");a.enableVertexAttribArray(b);a.vertexAttribPointer(b,2,a.FLOAT,!1,0,0);M(this);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,this.C);a.uniform1i(this.N.ia,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.o);
a.uniform1i(this.N.o,1);a.drawArrays(a.TRIANGLE_STRIP,0,4);[this.J,this.C,this.L]=[this.J===this.A?this.K:this.A,this.C===this.m?this.v:this.m,this.L===this.m?this.v:this.m]}else this.D=a}ma(a){a.preventDefault()}la(a){a.preventDefault();const b=N(this,a);this.l.set(a.pointerId,{...b,W:b.x,X:b.y,...this.ea})}ka(a){a.preventDefault();if(this.l.has(a.pointerId)){const b=this.l.get(a.pointerId);a=N(this,a);b.W=b.x;b.X=b.y;b.x=a.x;b.y=a.y}}S(a){this.l.delete(a.pointerId)}na(a,b,c,d){return-c*Math.cos(a/
d*(Math.PI/2))+c+b}get w(){return this.h.width}get j(){return this.h.height}};}).call(this);
